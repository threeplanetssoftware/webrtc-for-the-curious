<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="What is Data Channel? #  Questions From The Curious #  I know many of you have a bunch of questions similar to the ones shown below. Let&rsquo;s get them quickly answered first! (Click on the questions to expand for the answer.)
 Question: What’s the difference from TCP? ↕  Short Answer:
Peer-to-peer connection (NAT traversal) is possible. While it provides &ldquo;guaranteed delivery&rdquo; like TCP, it also provides none-reliable delivery like UDP."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Data Communication"><meta property="og:description" content="What is Data Channel? #  Questions From The Curious #  I know many of you have a bunch of questions similar to the ones shown below. Let&rsquo;s get them quickly answered first! (Click on the questions to expand for the answer.)
 Question: What’s the difference from TCP? ↕  Short Answer:
Peer-to-peer connection (NAT traversal) is possible. While it provides &ldquo;guaranteed delivery&rdquo; like TCP, it also provides none-reliable delivery like UDP."><meta property="og:type" content="article"><meta property="og:url" content="https://webrtcforthecurious.com/docs/06-data-communication/"><meta property="article:modified_time" content="2020-09-27T22:26:58-07:00"><meta property="og:site_name" content="WebRTC for the Curious"><title>Data Communication | WebRTC for the Curious</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=alternate hreflang=tr href=https://webrtcforthecurious.com/tr/docs/06-data-communication/ title="Data Communication"><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.0a9c82fb228958103802c198e18a5331331abc9d65109990e54aeb8ede1d19f8.js integrity="sha256-CpyC+yKJWBA4AsGY4YpTMTMavJ1lEJmQ5Urrjt4dGfg="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>WebRTC for the Curious</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/01-what-why-and-how/>What, Why and How</a></li><li><a href=/docs/02-signaling/>Signaling</a></li><li><a href=/docs/03-connecting/>Connecting</a></li><li><a href=/docs/04-securing/>Securing</a></li><li><a href=/docs/05-media-communication/>Media Communication</a></li><li><a href=/docs/06-data-communication/ class=active>Data Communication</a></li><li><a href=/docs/07-applied-webrtc/>Applied WebRTC</a></li><li><a href=/docs/08-debugging/>Debugging</a></li><li><a href=/docs/09-history-of-webrtc/>History</a></li><li><a href=/docs/10-faq/>FAQ</a></li><li><a href=/docs/11-contributing/>Contributing</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Data Communication</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#what-is-data-channel>What is Data Channel?</a><ul><li><a href=#questions-from-the-curious>Questions From The Curious</a></li></ul></li><li><a href=#functional-overview>Functional Overview</a><ul><li><a href=#what-does-data-channels-solve>What does data channels solve?</a></li><li><a href=#protocol-stack>Protocol Stack</a></li><li><a href=#basic-features>Basic Features</a></li></ul></li><li><a href=#data-channel-api>Data Channel API</a><ul><li><a href=#connection--teardown>Connection / Teardown</a></li><li><a href=#data-channel-options>Data Channel Options</a></li><li><a href=#flow-control-api>Flow Control API</a></li></ul></li><li><a href=#data-channel-in-depth>Data Channel in Depth</a><ul><li><a href=#sctp>SCTP</a></li><li><a href=#dcep>DCEP</a></li></ul></li><li><a href=#reference-to-rfcs>Reference to RFCs</a></li></ul></nav></aside></header><article class=markdown><h2 id=what-is-data-channel>What is Data Channel?
<a class=anchor href=#what-is-data-channel>#</a></h2><h3 id=questions-from-the-curious>Questions From The Curious
<a class=anchor href=#questions-from-the-curious>#</a></h3><p>I know many of you have a bunch of questions similar to the ones shown below.
Let&rsquo;s get them quickly answered first! (Click on the questions to expand for the answer.)</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: What’s the difference from TCP?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Peer-to-peer connection (NAT traversal) is possible.
While it provides &ldquo;guaranteed delivery&rdquo; like TCP, it also provides none-reliable delivery like UDP.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#sctp>SCTP</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: How many channels can we have?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Unlimited (theoretically 65536 channels as stream identifier has 16 bits)</p><p><em>Related sections for more details:</em></p><ul><li><a href=#sctp>SCTP</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: What are data channels good for?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Any data transfer other than audio and video.
As it has various delivery options (partial reliability), it has broader applications than TCP.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#functional-overview>Functional Overview</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: Any limit in bandwidth?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>As much as the underlying network allows.
The underlying SCTP protocol is designed so that you cannot overwhelm the network.</p></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: Can we send binary data?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Yes, you can send both text and binary data.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#data-channel-api>Data Channel API</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: How about congestion control?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><ul><li>Yes it has congestion control.</li></ul><p><em>Related sections for more details:</em></p><ul><li><a href=#sctp>SCTP</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: How is the latency compared to that of TCP?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em>
Even though the WebRTC&rsquo;s SCTP lives in &ldquo;user space&rdquo;, performance is comparable to that of TCP.
Data channels support &ldquo;Partial-reliability&rdquo; option which can reduce latency caused by
data retransmissions over a lossy connection.
<em>Related sections for more details:</em></p><ul><li><a href=#partial-reliability>Partial Reliability</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: What technologies are used in data channels?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em>
WebRTC (primarily) uses UDP. On top of UDP, there&rsquo;s SCTP, then DCEP which
controls establishment of data channels.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#protocol-stack>Protocol Stack</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: How do I know if I am sending too much?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>WebRTC (primarily) uses UDP. On top of UDP, there&rsquo;s SCTP, then DCEP which
controls establishment of data channels.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#flow-control-api>Flow Control API</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: How can I automate the flow control?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Yes, you can. WebRTC provides a set of methods and an event for it.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#flow-control-api>Flow Control API</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: Do messages arrive in the sequential order they were sent?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>Yes. Optionally, you could tell the data channel to deliver message as it
they arrive even those messages reordered over the network.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#data-channel-api>Data Channel API</a></li><li><a href=#sctp>SCTP</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: When do you use unordered delivery option?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>When newer information obsoletes the old such as positional information of an
object, or each message is independent from the others and need to avoid
head-of-line blocking delay.</p><p><em>Related sections for more details:</em></p><ul><li><a href=#data-channel-options>Data Channel Options</a></li><li><a href=#sctp>SCTP</a></li></ul></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Question: Can we send audio or video via data channel?</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><p><em>Short Answer:</em></p><p>You can send any data over data channel. In a browser case, it is your
responsibility to decode the data and pass it to a media player for rendering,
while it is automatically done when you use media channels.</p><p><em>Related sections for more details:</em></p><ul><li><a href=/docs/05-media-communication>Audio and Video Communication</a></li></ul></div></label></div><h2 id=functional-overview>Functional Overview
<a class=anchor href=#functional-overview>#</a></h2><h3 id=what-does-data-channels-solve>What does data channels solve?
<a class=anchor href=#what-does-data-channels-solve>#</a></h3><ul><li>Application examples<ul><li>Real-time network games</li><li>Game player action events</li><li>Asset exchange</li><li>Text chat</li><li>Collaborative file transfer (distributed storage p2p file sharing)</li><li>Monitoring IoT devices</li></ul></li></ul><h3 id=protocol-stack>Protocol Stack
<a class=anchor href=#protocol-stack>#</a></h3><p>(TODO)</p><h3 id=basic-features>Basic Features
<a class=anchor href=#basic-features>#</a></h3><ul><li>Reliability</li><li>Congestion Avoidance</li><li>Flow Control</li></ul><h2 id=data-channel-api>Data Channel API
<a class=anchor href=#data-channel-api>#</a></h2><h3 id=connection--teardown>Connection / Teardown
<a class=anchor href=#connection--teardown>#</a></h3><h3 id=data-channel-options>Data Channel Options
<a class=anchor href=#data-channel-options>#</a></h3><h3 id=flow-control-api>Flow Control API
<a class=anchor href=#flow-control-api>#</a></h3><h2 id=data-channel-in-depth>Data Channel in Depth
<a class=anchor href=#data-channel-in-depth>#</a></h2><h3 id=sctp>SCTP
<a class=anchor href=#sctp>#</a></h3><h4 id=connection-establishment-flow>Connection establishment flow
<a class=anchor href=#connection-establishment-flow>#</a></h4><h4 id=connection-teardown-flow>Connection teardown flow
<a class=anchor href=#connection-teardown-flow>#</a></h4><h4 id=keep-alive-mechanism>Keep-alive mechanism
<a class=anchor href=#keep-alive-mechanism>#</a></h4><h4 id=how-does-a-user-message-get-sent>How does a user message get sent?
<a class=anchor href=#how-does-a-user-message-get-sent>#</a></h4><h4 id=tsn-and-retransmission>TSN and retransmission
<a class=anchor href=#tsn-and-retransmission>#</a></h4><h4 id=congestion-avoidance>Congestion avoidance
<a class=anchor href=#congestion-avoidance>#</a></h4><h4 id=selective-ack>Selective ACK
<a class=anchor href=#selective-ack>#</a></h4><h4 id=fast-retransmissionrecovery>Fast retransmission/recovery
<a class=anchor href=#fast-retransmissionrecovery>#</a></h4><h4 id=partial-reliability>Partial Reliability
<a class=anchor href=#partial-reliability>#</a></h4><h3 id=dcep>DCEP
<a class=anchor href=#dcep>#</a></h3><h4 id=openack-handshake>Open/ACK handshake
<a class=anchor href=#openack-handshake>#</a></h4><h4 id=ppid>PPID
<a class=anchor href=#ppid>#</a></h4><h4 id=parameter-exchange>Parameter exchange
<a class=anchor href=#parameter-exchange>#</a></h4><h2 id=reference-to-rfcs>Reference to RFCs
<a class=anchor href=#reference-to-rfcs>#</a></h2></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=https://webrtcforthecurious.com/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=https://webrtcforthecurious.com/tr/docs/06-data-communication/ class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
Turkish</a></li></ul></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/commit/12508b1c727b05140f2f07ef9465f6f071f307e7 title="Last modified by Yutaka Takeda | September 28, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>September 28, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/webrtc-for-the-curious/webrtc-for-the-curious/edit/master/content//docs/06-data-communication.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#what-is-data-channel>What is Data Channel?</a><ul><li><a href=#questions-from-the-curious>Questions From The Curious</a></li></ul></li><li><a href=#functional-overview>Functional Overview</a><ul><li><a href=#what-does-data-channels-solve>What does data channels solve?</a></li><li><a href=#protocol-stack>Protocol Stack</a></li><li><a href=#basic-features>Basic Features</a></li></ul></li><li><a href=#data-channel-api>Data Channel API</a><ul><li><a href=#connection--teardown>Connection / Teardown</a></li><li><a href=#data-channel-options>Data Channel Options</a></li><li><a href=#flow-control-api>Flow Control API</a></li></ul></li><li><a href=#data-channel-in-depth>Data Channel in Depth</a><ul><li><a href=#sctp>SCTP</a></li><li><a href=#dcep>DCEP</a></li></ul></li><li><a href=#reference-to-rfcs>Reference to RFCs</a></li></ul></nav></aside></main></body></html>